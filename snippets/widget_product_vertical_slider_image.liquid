<div id="product-slider" class="col-lg-8 vertical-slider-image carousel slide">
  <div class="row">
    <div class="col-12 col-lg-4 order-2 order-lg-1">
      {%- if product.images.size > 1 -%}
        <div class="carousel-indicators-container position-relative position-lg-absolute">
          <!-- Indicators -->
          <ul class="carousel-indicators d-flex flex-row flex-lg-column mt-lg-0">
            {%- for image in product.images -%}
              <li data-target="#product-slider" data-slide-to="{{ forloop.index | minus: '1' }}" id="slide-{{ forloop.index }}" class="d-block pb-2 mx-1 {% if forloop.first == true %}active{% endif %} {% if forloop.index >= 5 %} collapse multi-collapse{%- endif -%}" {%- if image.variants.size > 0 -%} data-switcher-image-thumbnail-variants="{{ image.variants | map: 'id' | json }}"{%- endif -%}>
                <img src="{{ image | img_url: '160x160', crop: 'center' }}" alt="{{ product.title }}" class="img-fluid">
              </li>
            {%- endfor -%}
          </ul>
        </div>
        <a class="carousel-control-prev d-flex d-lg-none link" href="#product-slider" data-slide="prev">
          <span class="fas fa-chevron-left"></span>
        </a>
        <a class="carousel-control-next d-flex d-lg-none link" href="#product-slider" data-slide="next">
          <span class="fas fa-chevron-right"></span>
        </a>
      {%- endif -%}
    </div>
    <div class="col-12 col-lg-8 order-1 order-lg-2">
      <!-- The slideshow -->
      <div class="carousel-inner">
        {%- for image in product.images -%}
          <div class="carousel-item {% if forloop.first == true %}active{% endif %} pb-4" {%- if image.variants.size > 0 -%} data-switcher-image-variants="{{ image.variants | map: 'id' | json }}"{%- endif -%}>
            <div class="w-100">
              <img src="{{ image | img_url: '490x695' }}" alt="{{ product.title }}" class="img-fluid">
            </div>
          </div>
        {%- endfor -%}
      </div>
    </div>
  </div>
</div>
